<div class="container">
  <div class="row">

    <div class="col-md-3">
      <level-user #level></level-user>
    </div>
    <div class="col-md-7">
      <h3 [ngClass]="{animated: checkClass, flash: checkClass}" style="float:right">{{my_money}}<span class="glyphicon glyphicon-gbp" style="color: #5CB85C;"></span></h3>
      <h4 *ngIf="!check" style="height:40px;color:red;border:1px solid #CCCCCC;float:left;margin-top:20px;padding:7px 7px" class="animated swing notification">Số lượng cây được phép trồng đạt tối đa </h4>
    </div>
    <div class="col-md-2">
      <button type="button" name="button" class="btn btn-success" (click)="logOut()" style="float:right;margin:5px;">Log out</button>
    </div>


  </div>
  <div class="row">
    <div class="col-md-3">
      <div class="panel panel-success">
        <div class="panel-heading">Available products</div>
        <div class="panel-body">
          <div *ngFor="let product of fruits; let i = index" class="panel panel-default" dnd-draggable [ngClass]="{animated: checkClass, pulse: i === checkClassForWareHouse[i]}"
            [dragData]="product" (onDragSuccess)="orderedProduct($event)" [dropZones]="['demo1']" [dragEnabled]="product.SoLuong>0">
            <!--[dragEnabled]="product.quantity>0"-->
            <div class="panel-body" [ngClass]="{cursor: product.SoLuong===0}">
              <div [hidden]="product.SoLuong===0">{{product.TenCay | uppercase}}<br>(available: {{product.SoLuong}})</div>
              <div [hidden]="product.SoLuong>0">
                <del>{{product.TenCay | uppercase}}</del><br>(NOT available)</div>
            </div>
          </div>
        </div>
      </div>
      <my-shop (outputShop)="getValueFromShop($event)"></my-shop>
    </div>
    <div class="col-md-8">
      <div class="panel panel-info theGround">
        <div class="panel-heading">The Ground<br>(total: {{total()}})<span class="pull-right" [ngClass]="{'animated pulse': checkClass}">Maximum Trees: {{maxTreesAllowedToGrow}}</span></div>
        <div class="panel-body">

          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 0, isPlanted[0] = false)"
            [dropEnabled]="isPlanted[0]">
            <div *ngFor="let product of cayDaTrong; let i = index" 
              [ngClass]="getClassName(product.TenCay)">
              <span *ngIf="product.status === 'Perfect' && product.Location === 0" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location1 = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 0">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>

          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 1, isPlanted[1] = false)"
            [dropEnabled]="isPlanted[1]">
            <div *ngFor="let product of cayDaTrong; let i = index" 
              [ngClass]="getClassName(product.TenCay)">
              <span *ngIf="product.status === 'Perfect' && product.Location === 1" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 1">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>

          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 2, isPlanted[2] = false)"
            [dropEnabled]="isPlanted[2]">
            <div *ngFor="let product of cayDaTrong; let i = index" 
              [ngClass]="getClassName(product.TenCay)">
              <span *ngIf="product.status === 'Perfect' && product.Location === 2" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 2">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>

          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 3, isPlanted[3] = false)"
            [dropEnabled]="isPlanted[3]">
            <div *ngFor="let product of cayDaTrong; let i = index" 
              [ngClass]="getClassName(product.TenCay)">
              <span *ngIf="product.status === 'Perfect' && product.Location === 3" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 3">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>

          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 4, isPlanted[4] = false)"
            [dropEnabled]="isPlanted[4]">
            <div *ngFor="let product of cayDaTrong; let i = index" 
              [ngClass]="getClassName(product.TenCay)">
              <span *ngIf="product.status === 'Perfect' && product.Location === 4" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 4">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>

          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 5, isPlanted[5] = false)"
            [dropEnabled]="isPlanted[5]">
            <div *ngFor="let product of cayDaTrong; let i = index" 
              [ngClass]="getClassName(product.TenCay)">
              <span *ngIf="product.status === 'Perfect' && product.Location === 5" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 5">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 7-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 6, isPlanted[6] = false)"
            [dropEnabled]="isPlanted[6]">
            <div *ngFor="let product of cayDaTrong; let i = index" 
              [ngClass]="getClassName(product.TenCay)">
              <span *ngIf="product.status === 'Perfect' && product.Location === 6" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 6">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 8-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 7, isPlanted[7] = false)"
            [dropEnabled]="isPlanted[7]">
            <div *ngFor="let product of cayDaTrong; let i = index" 
              [ngClass]="getClassName(product.TenCay)">
              <span *ngIf="product.status === 'Perfect' && product.Location === 7" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 7">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 9-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 8, isPlanted[8] = false)"
            [dropEnabled]="isPlanted[8]">
            <div *ngFor="let product of cayDaTrong; let i = index" 
              [ngClass]="getClassName(product.TenCay)">
              <span *ngIf="product.status === 'Perfect' && product.Location === 8" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 8">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 10-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 9, isPlanted[9] = false)"
            [dropEnabled]="isPlanted[9]">
            <div *ngFor="let product of cayDaTrong; let i = index" 
              [ngClass]="getClassName(product.TenCay)">
              <span *ngIf="product.status === 'Perfect' && product.Location === 9" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 9">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--[ngClass]="{animated: true, bounceOut: location === product.Location}"-->


        </div>
      </div>
    </div>
    <div class="col-md-1">
      <br>
      <!--<img dnd-draggable src="assets/img/sprinkler.png" alt="">-->
    </div>
  </div>
</div>
