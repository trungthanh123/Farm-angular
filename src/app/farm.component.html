<div class="container">
  <div class="row">

    <div class="col-md-3">
      <level-user #level></level-user>
    </div>
    <div class="col-md-7">
      <h3 [ngClass]="{animated: isBuying || checkClass, flash: isBuying || checkClass}" style="float:right">{{my_money}}<span class="glyphicon glyphicon-gbp" style="color: #5CB85C;"></span></h3>
      <!--<h4 *ngIf="!check" style="height:40px;color:red;border:1px solid #CCCCCC;float:left;margin-top:20px;padding:7px 7px" class="animated swing notification">Số lượng cây được phép trồng đạt tối đa </h4>-->
    </div>
    <div class="col-md-2">
      <button type="button" name="button" class="btn btn-success" (click)="logOut()" style="float:right;margin:5px;">Log out</button>
    </div>

  </div>
  <div class="row">
    <div class="col-md-3">
      <div class="panel panel-success">
        <div class="panel-heading">Available products</div>
        <div class="panel-body">
          <div *ngFor="let product of fruits; let i = index" class="panel panel-default" dnd-draggable [ngClass]="{animated: isBuying, pulse: product.TenCay === buyingEffect[0] || product.TenCay === buyingEffect[1] || product.TenCay === buyingEffect[2] || product.TenCay === buyingEffect[3]}"
            [dragData]="product" (onDragSuccess)="orderedProduct($event)" [dropZones]="['demo1']" [dragEnabled]="product.SoLuong>0">
            <div class="panel-body" [ngClass]="{cursor: product.SoLuong===0}">
              <div [hidden]="product.SoLuong===0">{{product.TenCay | uppercase}}<br>(available: {{product.SoLuong}})</div>
              <div [hidden]="product.SoLuong>0">
                <del>{{product.TenCay | uppercase}}</del><br>(NOT available)</div>
            </div>
          </div>
        </div>
      </div>
      <my-shop (outputShop)="getValueFromShop($event)"></my-shop>
    </div>
    <div class="col-md-8">
      <div class="panel panel-info theGround">
        <div class="panel-heading">The Ground<br>(total: {{total()}})<span class="pull-right">Maximum Trees: {{maxTreesAllowedToGrow}}</span></div>
        <div class="panel-body">
          <!--ô 1-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 0, isPlanted[0] = false)"
            [dropEnabled]="isPlanted[0]">
            <div *ngFor="let product of cayDaTrong; let i = index" [tooltip]="popTemplate" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 0}">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                  <!--{{chay ham countdown}}-->
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 0" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 0">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 2-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 1, isPlanted[1] = false)"
            [dropEnabled]="isPlanted[1]">
            <div *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 1}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 1" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 1">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 3-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 2, isPlanted[2] = false)"
            [dropEnabled]="isPlanted[2]">
            <div *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 2}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 2" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 2">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 4-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 3, isPlanted[3] = false)"
            [dropEnabled]="isPlanted[3]">
            <div *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 3}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 3" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 3">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 5-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 4, isPlanted[4] = false)"
            [dropEnabled]="isPlanted[4]">
            <div *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 4}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 4" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 4">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 6-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 5, isPlanted[5] = false)"
            [dropEnabled]="isPlanted[5]">
            <div *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 5}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 5" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 5">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 7-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 6, isPlanted[6] = false)"
            [dropEnabled]="isPlanted[6]">
            <div *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 6}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 6" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 6">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 8-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 7, isPlanted[7] = false)"
            [dropEnabled]="isPlanted[7]">
            <div *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 7}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 7" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 7">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 9-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 8, isPlanted[8] = false)"
            [dropEnabled]="isPlanted[8]">
            <div *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 8}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 8" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 8">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 10-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 9, isPlanted[9] = false)"
            [dropEnabled]="isPlanted[9]">
            <div *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 9}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 9" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 9">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 11-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 10, isPlanted[10] = false)"
            [dropEnabled]="isPlanted[10]" [ngClass]="{animated: true, pulse: maxTreesAllowedToGrow === 11}" >
            <button *ngIf="maxTreesAllowedToGrow <= 10" class="btn btn-warning align-middle" (click)="staticModal.show()">Unlock!</button>
            <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
              aria-hidden="true">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title pull-left">Do you want to unlock this square?</h4>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()"></button>
                  </div>
                  <div class="modal-body">
                    <button class="btn btn-primary" (click)="unlockSquare(); staticModal.hide()">OK</button>
                    <button class="btn btn-danger pull-right" (click)="staticModal.hide()">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="maxTreesAllowedToGrow >= 11">
              <div *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 10}"
                [tooltip]="popTemplate">
                <template #popTemplate>
                  <div>
                    <p>{{product.TenCay | uppercase}}</p>
                    <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                    <p>Money reward: {{product.DiemNhanDuoc}}</p>
                    <p>Time:</p>
                  </div>
                </template>
                <span *ngIf="product.status === 'Perfect' && product.Location === 10" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                  (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
                <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
                <div class="panel-body show-info" *ngIf="product.Location === 10">
                  {{product.TenCay | uppercase}}
                  <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
                </div>
              </div>
            </div>
          </div>
          <!--ô 12-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 11, isPlanted[11] = false)"
            [dropEnabled]="isPlanted[11]" [ngClass]="{animated: true, pulse: maxTreesAllowedToGrow === 12}">
            <button *ngIf="maxTreesAllowedToGrow <= 11" [disabled]="!(maxTreesAllowedToGrow === 11)" class="btn btn-warning align-middle" (click)="staticModal.show()">Unlock!</button>
            <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
              aria-hidden="true">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title pull-left">Do you want to unlock this square?</h4>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()"></button>
                  </div>
                  <div class="modal-body">
                    <button class="btn btn-primary" (click)="unlockSquare(); staticModal.hide()">OK</button>
                    <button class="btn btn-danger pull-right" (click)="staticModal.hide()">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            <div [hidden]="!(maxTreesAllowedToGrow >= 12)" *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 11}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 11" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 11">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 13-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 12, isPlanted[12] = false)"
            [dropEnabled]="isPlanted[12]" [ngClass]="{animated: true, pulse: maxTreesAllowedToGrow === 13}">
            <button *ngIf="maxTreesAllowedToGrow <= 12" [disabled]="!(maxTreesAllowedToGrow === 12)" class="btn btn-warning align-middle" (click)="staticModal.show()">Unlock!</button>
            <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
              aria-hidden="true">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title pull-left">Do you want to unlock this square?</h4>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()"></button>
                  </div>
                  <div class="modal-body">
                    <button class="btn btn-primary" (click)="unlockSquare(); staticModal.hide()">OK</button>
                    <button class="btn btn-danger pull-right" (click)="staticModal.hide()">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            <div [hidden]="!(maxTreesAllowedToGrow >= 13)" *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 12}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 12" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 12">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 14-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 13, isPlanted[13] = false)"
            [dropEnabled]="isPlanted[13]" [ngClass]="{animated: true, pulse: maxTreesAllowedToGrow === 14}">
            <button *ngIf="maxTreesAllowedToGrow <= 13" [disabled]="!(maxTreesAllowedToGrow === 13)" class="btn btn-warning align-middle" (click)="staticModal.show()">Unlock!</button>
            <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
              aria-hidden="true">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title pull-left">Do you want to unlock this square?</h4>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()"></button>
                  </div>
                  <div class="modal-body">
                    <button class="btn btn-primary" (click)="unlockSquare(); staticModal.hide()">OK</button>
                    <button class="btn btn-danger pull-right" (click)="staticModal.hide()">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            <div [hidden]="!(maxTreesAllowedToGrow >= 14)" *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 12}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 13" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 13">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>
          <!--ô 15-->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 14, isPlanted[14] = false)"
            [dropEnabled]="isPlanted[14]" [ngClass]="{animated: true, pulse: maxTreesAllowedToGrow === 15}">
            <button *ngIf="maxTreesAllowedToGrow <= 14" [disabled]="!(maxTreesAllowedToGrow === 14)" class="btn btn-warning align-middle" (click)="staticModal.show()">Unlock!</button>
            <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
              aria-hidden="true">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title pull-left">Do you want to unlock this square?</h4>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()"></button>
                  </div>
                  <div class="modal-body">
                    <button class="btn btn-primary" (click)="unlockSquare(); staticModal.hide()">OK</button>
                    <button class="btn btn-danger pull-right" (click)="staticModal.hide()">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            <div [hidden]="!(maxTreesAllowedToGrow >= 15)" *ngFor="let product of cayDaTrong; let i = index" [ngClass]="{animated:true, rollOut: location == product.Location && checkClass, bounceIn: plantedClass && n == 14}"
              [tooltip]="popTemplate">
              <template #popTemplate>
                <div>
                  <p>{{product.TenCay | uppercase}}</p>
                  <p>Points reward: {{product.KinhNgiemNhanDuoc}}</p>
                  <p>Money reward: {{product.DiemNhanDuoc}}</p>
                  <p>Time:</p>
                </div>
              </template>
              <span *ngIf="product.status === 'Perfect' && product.Location === 14" class="glyphicon glyphicon-grain" style="float:right;margin:5px;"
                (click)="destroyaPlant(product.Location); level.addExp(product.KinhNgiemNhanDuoc); location = product.Location"></span>
              <!--<span *ngIf="product.status === 'losewater'" class="glyphicon glyphicon-tint" style="float:right;margin:5px;" (click)="waterTree(product.Location)"></span>-->
              <div class="panel-body show-info" *ngIf="product.Location === 14">
                {{product.TenCay | uppercase}}
                <em [ngStyle]="{'color': 'green'}">{{product.status}}</em>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
    <div class="col-md-1">
      <br>
      <!--<img dnd-draggable src="assets/img/sprinkler.png" alt="">-->
    </div>
  </div>
</div>
