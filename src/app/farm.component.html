<div class="container">
  <div class="row">
    <div class="col-md-3">
      <div class="panel panel-success warehouse">
        <div class="panel-heading">Available products</div>
        <div class="panel-body">
          <div class="group_input_filter">
            <input type="text" name="filterValue" [(ngModel)]="filterValue" class="filter-input" placeholder="Search">
            <span class="bar"></span>
          </div>

          <div *ngFor="let product of pageFruits | filter:filterValue" class="panel panel-default " dnd-draggable [dragEnabled]="product.quantity>0"
            [dragData]="product" (onDragSuccess)="orderedProduct($event)" [dropZones]="['demo1']">
            <div class="panel-body">
              <div [hidden]="product.quantity===0">
                <img src="assets/fruits/{{product.name}}.png" alt="" width="65px" height="68px" popover="{{product.name | uppercase}}" triggers="mouseenter:mouseleave"> (available: {{product.quantity}})
              </div>
              <div [hidden]="product.quantity>0" [ngStyle]="{'color': 'red', 'cursor': 'no-drop'}">
                <img src="assets/fruits/{{product.name}}.png" alt="" width="65px" height="68px">(NOT available)</div>
            </div>
          </div>
          <!-- pager -->
          <div>
            <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
              <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                <a (click)="setPage(page)">{{page}}</a>
              </li>
            </ul>
          </div>
        </div>
      </div>

    </div>
    <div class="col-md-8">
      <div class="row">
        <div class="col-md-8">
          <level-user #level></level-user>

        </div>
        <div class="col-md-4">
          <money #money></money>
        </div>
      </div>
      <div class="panel panel-info theGround">
        <div class="panel-heading">The Ground
          <br>(total: {{total()}})</div>
        <div class="panel-body">
          <!-- ô 1 -->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 0, isPlanted[0] = false)"
            [dropEnabled]="isPlanted[0]">
            <div *ngFor="let product of shoppingBasket; let i = index" [ngClass]="{animated:true, tada:true}">
              <span *ngIf="product.location === 0" class="glyphicon glyphicon-trash" style="float:right;margin:5px;" (click)="destroyaPlant(i, product.location)"></span>
              <span *ngIf="product.location === 0" (click)="money.updateYourMoney(product.reward); destroyaPlant(i, product.location); level.AddPercents(product.exp)">
                <img src="assets/img/scythe.png" alt="" style="float:left;margin:5px;">
              </span>
              <div class="panel-body" *ngIf="product.location === 0">
                <img src="{{product.img}}" alt="" width="65px" height="68px">
              </div>
            </div>
          </div>
          <!-- ô 2 -->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 1, isPlanted[1] = false)"
            [dropEnabled]="isPlanted[1]">
            <div *ngFor="let product of shoppingBasket; let i = index" [ngClass]="{animated:true, tada:true}">
              <span *ngIf="product.location === 1" class="glyphicon glyphicon-trash" style="float:right;margin:5px;" (click)="destroyaPlant(i, product.location)"></span>
              <span *ngIf="product.location === 1" (click)="money.updateYourMoney(product.reward); destroyaPlant(i, product.location); level.AddPercents(product.exp)">
                <img src="assets/img/scythe.png" alt="" style="float:left;margin:5px;">
              </span>
              <div class="panel-body" *ngIf="product.location === 1">
                <img src="{{product.img}}" alt="" width="65px" height="68px">
              </div>
            </div>
          </div>
          <!-- ô 3 -->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 2, isPlanted[2] = false)"
            [dropEnabled]="isPlanted[2]">
            <div *ngFor="let product of shoppingBasket; let i = index" [ngClass]="{animated:true, tada:true}">
              <span *ngIf="product.location === 2" class="glyphicon glyphicon-trash" style="float:right;margin:5px;" (click)="destroyaPlant(i, product.location)"></span>
              <span *ngIf="product.location === 2" (click)="money.updateYourMoney(product.reward); destroyaPlant(i, product.location); level.AddPercents(product.exp)">
                <img src="assets/img/scythe.png" alt="" style="float:left;margin:5px;">
              </span>
              <div class="panel-body" *ngIf="product.location === 2">
                <img src="{{product.img}}" alt="" width="65px" height="68px">
              </div>
            </div>
          </div>
          <!-- ô 4 -->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 3, isPlanted[3] = false)"
            [dropEnabled]="isPlanted[3]">
            <div *ngFor="let product of shoppingBasket; let i = index" [ngClass]="{animated:true, tada:true}">
              <span *ngIf="product.location === 3" class="glyphicon glyphicon-trash" style="float:right;margin:5px;" (click)="destroyaPlant(i, product.location)"></span>
              <span *ngIf="product.location === 3" (click)="money.updateYourMoney(product.reward); destroyaPlant(i, product.location); level.AddPercents(product.exp)">
                <img src="assets/img/scythe.png" alt="" style="float:left;margin:5px;">
              </span>
              <div class="panel-body" *ngIf="product.location === 3">
                <img src="{{product.img}}" alt="" width="65px" height="68px">
              </div>
            </div>
          </div>
          <!-- ô 5 -->
          <div class="panel panel-default square" [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 4, isPlanted[4] = false)"
            [dropEnabled]="isPlanted[4]">
            <div *ngFor="let product of shoppingBasket; let i = index" [ngClass]="{animated:true, tada:true}">
              <span *ngIf="product.location === 4" class="glyphicon glyphicon-trash" style="float:right;margin:5px;" (click)="destroyaPlant(i, product.location)"></span>
              <span *ngIf="product.location === 4" (click)="money.updateYourMoney(product.reward); destroyaPlant(i, product.location); level.AddPercents(product.exp)">
                <img src="assets/img/scythe.png" alt="" style="float:left;margin:5px;">
              </span>
              <div class="panel-body" *ngIf="product.location === 4">
                <img src="{{product.img}}" alt="" width="65px" height="68px">
              </div>
            </div>
          </div>
          <!--mở ô đất 1/ ô 6 -->
          <div class="panel panel-default square " [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 5, isPlanted[5] = false)"
            [dropEnabled]="isPlanted[5]">
            <button class="btn btn-success hvr-grow-rotate" *ngIf="maxTreesAllowedToGrow <= 5" alt="" width="100px" height="89px"
              (click)="staticModal.show()" popover="Unlock the land" triggers="mouseenter:mouseleave" [disabled]="!(maxTreesAllowedToGrow == 5)">Unlock</button>
            <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
              aria-hidden="true">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title pull-left">500$ to unlock this land?</h4>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <button class="btn btn-primary" (click)="unlockTheLand(); staticModal.hide()">OK</button>
                    <button class="btn btn-danger" (click)="staticModal.hide()">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            <div [hidden]="!maxTreesAllowedToGrow >= 6" *ngFor="let product of shoppingBasket; let i = index" [ngClass]="{animated:true, tada:true}">
              <span *ngIf="product.location === 5" class="glyphicon glyphicon-trash" style="float:right;margin:5px;" (click)="destroyaPlant(i, product.location)"></span>
              <span *ngIf="product.location === 5" (click)="money.updateYourMoney(product.reward); destroyaPlant(i, product.location); level.AddPercents(product.exp)">
                <img src="assets/img/scythe.png" alt="" style="float:left;margin:5px;">
              </span>
              <div class="panel-body" *ngIf="product.location === 5">
                <img src="{{product.img}}" alt="" width="65px" height="68px">
              </div>
            </div>
          </div>
          <!--mở ô đất 2/ ô 7 -->
          <div class="panel panel-default square " [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 6, isPlanted[6] = false)"
            [dropEnabled]="isPlanted[6]">
            <button class="btn btn-success hvr-grow-rotate" *ngIf="maxTreesAllowedToGrow <= 6" alt="" width="100px" height="89px"
              (click)="staticModal.show()" popover="Unlock the land" triggers="mouseenter:mouseleave" [disabled]="!(maxTreesAllowedToGrow == 6)">Unlock</button>
            <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
              aria-hidden="true">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title pull-left">500$ to unlock this land?</h4>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <button class="btn btn-primary" (click)="unlockTheLand(); staticModal.hide()">OK</button>
                    <button class="btn btn-danger" (click)="staticModal.hide()">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            <div [hidden]="!maxTreesAllowedToGrow >= 7" *ngFor="let product of shoppingBasket; let i = index" [ngClass]="{animated:true, tada:true}">
              <span *ngIf="product.location === 6" class="glyphicon glyphicon-trash" style="float:right;margin:5px;" (click)="destroyaPlant(i, product.location)"></span>
              <span *ngIf="product.location === 6" (click)="money.updateYourMoney(product.reward); destroyaPlant(i, product.location); level.AddPercents(product.exp)">
                <img src="assets/img/scythe.png" alt="" style="float:left;margin:5px;">
              </span>
              <div class="panel-body" *ngIf="product.location === 6">
                <img src="{{product.img}}" alt="" width="65px" height="68px">
              </div>
            </div>
          </div>
          <!--mở ô đất 3/ ô 8-->
          <div class="panel panel-default square " [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 7, isPlanted[7] = false)"
            [dropEnabled]="isPlanted[7]">
            <button class="btn btn-success hvr-grow-rotate" *ngIf="maxTreesAllowedToGrow <= 7" alt="" width="100px" height="89px"
            (click)="staticModal.show()" popover="Unlock the land" triggers="mouseenter:mouseleave" [disabled]="!(maxTreesAllowedToGrow == 7)">Unlock</button>
            <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
              aria-hidden="true">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title pull-left">500$ to unlock this land?</h4>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <button class="btn btn-primary" (click)="unlockTheLand(); staticModal.hide()">OK</button>
                    <button class="btn btn-danger" (click)="staticModal.hide()">Cancel</button>
                  </div>
                </div>
              </div>
            </div>
            <div [hidden]="!maxTreesAllowedToGrow >= 8" *ngFor="let product of shoppingBasket; let i = index" [ngClass]="{animated:true, tada:true}">
              <span *ngIf="product.location === 7" class="glyphicon glyphicon-trash" style="float:right;margin:5px;" (click)="destroyaPlant(i, product.location)"></span>
              <span *ngIf="product.location === 7" (click)="money.updateYourMoney(product.reward); destroyaPlant(i, product.location); level.AddPercents(product.exp)">
                <img src="assets/img/scythe.png" alt="" style="float:left;margin:5px;">
              </span>
              <div class="panel-body" *ngIf="product.location === 7">
                <img src="{{product.img}}" alt="" width="65px" height="68px">
              </div>
            </div>
          </div>
          <!--mở ô đất 4/ ô 9-->
          <div class="panel panel-default square " [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 8, isPlanted[8] = false)"
          [dropEnabled]="isPlanted[8]">
          <button class="btn btn-success hvr-grow-rotate" *ngIf="maxTreesAllowedToGrow <= 8" alt="" width="100px" height="89px"
          (click)="staticModal.show()" popover="Unlock the land" triggers="mouseenter:mouseleave" [disabled]="!(maxTreesAllowedToGrow == 8)">Unlock</button>
          <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-sm">
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title pull-left">500$ to unlock this land?</h4>
                  <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <button class="btn btn-primary" (click)="unlockTheLand(); staticModal.hide()">OK</button>
                  <button class="btn btn-danger" (click)="staticModal.hide()">Cancel</button>
                </div>
              </div>
            </div>
          </div>
          <div [hidden]="!maxTreesAllowedToGrow >= 9" *ngFor="let product of shoppingBasket; let i = index" [ngClass]="{animated:true, tada:true}">
            <span *ngIf="product.location === 8" class="glyphicon glyphicon-trash" style="float:right;margin:5px;" (click)="destroyaPlant(i, product.location)"></span>
            <span *ngIf="product.location === 8" (click)="money.updateYourMoney(product.reward); destroyaPlant(i, product.location); level.AddPercents(product.exp)">
              <img src="assets/img/scythe.png" alt="" style="float:left;margin:5px;">
            </span>
            <div class="panel-body" *ngIf="product.location === 8">
              <img src="{{product.img}}" alt="" width="65px" height="68px">
            </div>
          </div>
        </div>
          <!--mở ô đất 5/ ô 10-->
          <div class="panel panel-default square " [dropZones]="['demo1']" dnd-droppable (onDropSuccess)="addToBasket($event, n = 9, isPlanted[9] = false)"
          [dropEnabled]="isPlanted[9]">
          <button class="btn btn-success hvr-grow-rotate" *ngIf="maxTreesAllowedToGrow <= 9" alt="" width="100px" height="89px"
          (click)="staticModal.show()" popover="Unlock the land" triggers="mouseenter:mouseleave" [disabled]="!(maxTreesAllowedToGrow == 9)">Unlock</button>
          <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-sm">
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title pull-left">500$ to unlock this land?</h4>
                  <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <button class="btn btn-primary" (click)="unlockTheLand(); staticModal.hide()">OK</button>
                  <button class="btn btn-danger" (click)="staticModal.hide()">Cancel</button>
                </div>
              </div>
            </div>
          </div>
          <div [hidden]="!maxTreesAllowedToGrow >= 10" *ngFor="let product of shoppingBasket; let i = index" [ngClass]="{animated:true, tada:true}">
            <span *ngIf="product.location === 9" class="glyphicon glyphicon-trash" style="float:right;margin:5px;" (click)="destroyaPlant(i, product.location)"></span>
            <span *ngIf="product.location === 9" (click)="money.updateYourMoney(product.reward); destroyaPlant(i, product.location); level.AddPercents(product.exp)">
              <img src="assets/img/scythe.png" alt="" style="float:left;margin:5px;">
            </span>
            <div class="panel-body" *ngIf="product.location === 9">
              <img src="{{product.img}}" alt="" width="65px" height="68px">
            </div>
          </div>
        </div>
        </div>
      </div>
    </div>
    <div class="col-md-1">
      <button type="button" name="button" class="btn btn-success" (click)="logOut()">Log out</button>
      <br>
      <br>
      <br>
      <br>
      <!--<img dnd-draggable src="assets/img/sprinkler.png" alt="">-->
      <my-shop (outputShop)="getValueFromShop($event)"></my-shop>
    </div>

  </div>
</div>
